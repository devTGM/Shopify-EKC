{% doc %}
  @prompt
    Design a luxury curated selection section for a premium e-commerce website that sells sneakers, apparel, accessories, and watches.
    
    Desktop layout:
    – Three-column editorial layout
    – Left column: numbered curated category list (01–04)
    – Center column: one strong lifestyle or product-led editorial image
    – Right column: refined headline, short supporting paragraph, and a minimal CTA
    
    Left column (Curated list):
    – Section label in small uppercase text (e.g., “CURATED SELECTION”)
    – Four numbered categories with strong typographic hierarchy
    – One active item visually highlighted (underline or weight change)
    – Subtle hover effect when switching categories (no animation-heavy transitions)
    
    Center image:
    – High-quality editorial or product-lifestyle image
    – Image updates when category selection changes
    – No overlays, no gradients
    
    Right content:
    – Headline: calm, editorial, confidence-led
    – Short paragraph (2–3 lines max) describing the curation philosophy
    – Minimal text CTA (e.g., “Shop the selection”)
    
    Mobile behavior (critical):
    – Section stacks vertically
    – Order:
    
    Section label + headline
    
    Editorial image
    
    Curated category list (horizontal scroll or vertical list)
    
    CTA at the bottom
    – No three-column layout on mobile
    – No tiny text or overlapping content
    
    Interaction & UX:
    – Category switching feels instant and calm
    – No sliders with dots
    – No autoplay
    – Entire category row is tappable on mobile
    
    Style & tone:
    – Luxury, editorial, restrained
    – Plenty of white space
    – No promotional language
    – Designed to feel like a curated gallery, not a product filter
    
    Performance:
    – Lightweight transitions (150–250ms ease-in-out)
    – Mobile-first responsive behavior, i need option for image ratio, I need Option to adjust gap between Label and Category Name, I want sections to switch on Hover with animation on image and Content.
    optimised for Mobile View As well
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-curated-selection-{{ ai_gen_id }} {
    display: block;
    width: 100%;
    padding: {{ block.settings.section_padding_desktop }}px 0;
    background-color: {{ block.settings.background_color }};
  }

  .ai-curated-selection__container-{{ ai_gen_id }} {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 40px;
  }

  .ai-curated-selection__grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 2fr 1.5fr;
    gap: {{ block.settings.column_gap }}px;
    align-items: center;
  }

  .ai-curated-selection__left-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: {{ block.settings.label_category_gap }}px;
  }

  .ai-curated-selection__label-{{ ai_gen_id }} {
    font-size: {{ block.settings.label_size }}px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: {{ block.settings.text_color }};
    opacity: 0.6;
    font-weight: 400;
  }

  .ai-curated-selection__categories-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .ai-curated-selection__category-{{ ai_gen_id }} {
    display: flex;
    align-items: baseline;
    gap: 16px;
    cursor: pointer;
    transition: all 200ms ease-in-out;
    padding: 8px 0;
  }

  .ai-curated-selection__category-number-{{ ai_gen_id }} {
    font-size: {{ block.settings.number_size }}px;
    color: {{ block.settings.text_color }};
    opacity: 0.4;
    font-weight: 300;
    min-width: 30px;
  }

  .ai-curated-selection__category-name-{{ ai_gen_id }} {
    font-size: {{ block.settings.category_size }}px;
    color: {{ block.settings.text_color }};
    font-weight: 400;
    transition: all 200ms ease-in-out;
    position: relative;
  }

  .ai-curated-selection__category-{{ ai_gen_id }}:hover .ai-curated-selection__category-name-{{ ai_gen_id }} {
    font-weight: 500;
  }

  .ai-curated-selection__category-{{ ai_gen_id }}.active .ai-curated-selection__category-number-{{ ai_gen_id }} {
    opacity: 1;
    font-weight: 500;
  }

  .ai-curated-selection__category-{{ ai_gen_id }}.active .ai-curated-selection__category-name-{{ ai_gen_id }} {
    font-weight: 600;
  }

  .ai-curated-selection__category-{{ ai_gen_id }}.active .ai-curated-selection__category-name-{{ ai_gen_id }}::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 1px;
    background-color: {{ block.settings.text_color }};
  }

  .ai-curated-selection__center-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    overflow: hidden;
  }

  .ai-curated-selection__image-wrapper-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    aspect-ratio: {{ block.settings.image_ratio }};
  }

  .ai-curated-selection__image-{{ ai_gen_id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 250ms ease-in-out;
  }

  .ai-curated-selection__image-{{ ai_gen_id }}.active {
    opacity: 1;
  }

  .ai-curated-selection__image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f5f5f5;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-curated-selection__image-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-curated-selection__right-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: 24px;
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 250ms ease-in-out, transform 250ms ease-in-out;
  }

  .ai-curated-selection__right-{{ ai_gen_id }}.active {
    opacity: 1;
    transform: translateY(0);
  }

  .ai-curated-selection__headline-{{ ai_gen_id }} {
    font-size: {{ block.settings.headline_size }}px;
    line-height: 1.2;
    color: {{ block.settings.text_color }};
    font-weight: 400;
    margin: 0;
  }

  .ai-curated-selection__description-{{ ai_gen_id }} {
    font-size: {{ block.settings.description_size }}px;
    line-height: 1.6;
    color: {{ block.settings.text_color }};
    opacity: 0.8;
    margin: 0;
  }

  .ai-curated-selection__cta-{{ ai_gen_id }} {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: {{ block.settings.cta_size }}px;
    color: {{ block.settings.text_color }};
    text-decoration: none;
    font-weight: 500;
    transition: gap 200ms ease-in-out;
    width: fit-content;
  }

  .ai-curated-selection__cta-{{ ai_gen_id }}:hover {
    gap: 12px;
  }

  .ai-curated-selection__cta-arrow-{{ ai_gen_id }} {
    width: 20px;
    height: 20px;
    transition: transform 200ms ease-in-out;
  }

  .ai-curated-selection__cta-{{ ai_gen_id }}:hover .ai-curated-selection__cta-arrow-{{ ai_gen_id }} {
    transform: translateX(4px);
  }

  @media screen and (max-width: 989px) {
    .ai-curated-selection-{{ ai_gen_id }} {
      padding: {{ block.settings.section_padding_mobile }}px 0;
    }

    .ai-curated-selection__container-{{ ai_gen_id }} {
      padding: 0 20px;
    }

    .ai-curated-selection__grid-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 32px;
    }

    .ai-curated-selection__left-{{ ai_gen_id }} {
      order: 1;
      gap: 16px;
    }

    .ai-curated-selection__label-{{ ai_gen_id }} {
      font-size: {{ block.settings.label_size_mobile }}px;
    }

    .ai-curated-selection__categories-{{ ai_gen_id }} {
      {% if block.settings.mobile_category_layout == 'horizontal' %}
        flex-direction: row;
        overflow-x: auto;
        gap: 24px;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
      {% endif %}
    }

    .ai-curated-selection__categories-{{ ai_gen_id }}::-webkit-scrollbar {
      display: none;
    }

    .ai-curated-selection__category-{{ ai_gen_id }} {
      {% if block.settings.mobile_category_layout == 'horizontal' %}
        flex-shrink: 0;
        white-space: nowrap;
      {% endif %}
    }

    .ai-curated-selection__category-number-{{ ai_gen_id }} {
      font-size: {{ block.settings.number_size_mobile }}px;
    }

    .ai-curated-selection__category-name-{{ ai_gen_id }} {
      font-size: {{ block.settings.category_size_mobile }}px;
    }

    .ai-curated-selection__center-{{ ai_gen_id }} {
      order: 2;
    }

    .ai-curated-selection__right-{{ ai_gen_id }} {
      order: 3;
      gap: 20px;
    }

    .ai-curated-selection__headline-{{ ai_gen_id }} {
      font-size: {{ block.settings.headline_size_mobile }}px;
    }

    .ai-curated-selection__description-{{ ai_gen_id }} {
      font-size: {{ block.settings.description_size_mobile }}px;
    }

    .ai-curated-selection__cta-{{ ai_gen_id }} {
      font-size: {{ block.settings.cta_size_mobile }}px;
    }
  }
{% endstyle %}

<curated-selection-{{ ai_gen_id }} class="ai-curated-selection-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-curated-selection__container-{{ ai_gen_id }}">
    <div class="ai-curated-selection__grid-{{ ai_gen_id }}">
      <div class="ai-curated-selection__left-{{ ai_gen_id }}">
        {% if block.settings.section_label != blank %}
          <div class="ai-curated-selection__label-{{ ai_gen_id }}">
            {{ block.settings.section_label }}
          </div>
        {% endif %}

        <div class="ai-curated-selection__categories-{{ ai_gen_id }}">
          {% for i in (1..4) %}
            {% liquid
              assign category_name_key = 'category_' | append: i | append: '_name'
              assign category_headline_key = 'category_' | append: i | append: '_headline'
              assign category_description_key = 'category_' | append: i | append: '_description'
              assign category_image_key = 'category_' | append: i | append: '_image'
              assign category_link_key = 'category_' | append: i | append: '_link'

              assign category_name = block.settings[category_name_key]
              assign category_headline = block.settings[category_headline_key]
              assign category_description = block.settings[category_description_key]
              assign category_image = block.settings[category_image_key]
              assign category_link = block.settings[category_link_key]
            %}

            {% if category_name != blank %}
              <div 
                class="ai-curated-selection__category-{{ ai_gen_id }} {% if forloop.first %}active{% endif %}"
                data-category="{{ i }}"
              >
                <span class="ai-curated-selection__category-number-{{ ai_gen_id }}">
                  {% if i < 10 %}0{% endif %}{{ i }}
                </span>
                <span class="ai-curated-selection__category-name-{{ ai_gen_id }}">
                  {{ category_name }}
                </span>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>

      <div class="ai-curated-selection__center-{{ ai_gen_id }}">
        <div class="ai-curated-selection__image-wrapper-{{ ai_gen_id }}">
          {% for i in (1..4) %}
            {% liquid
              assign category_image_key = 'category_' | append: i | append: '_image'
              assign category_name_key = 'category_' | append: i | append: '_name'
              assign category_image = block.settings[category_image_key]
              assign category_name = block.settings[category_name_key]
            %}

            {% if category_name != blank %}
              {% if category_image %}
                <img
                  src="{{ category_image | image_url: width: 1200 }}"
                  alt="{{ category_image.alt | escape }}"
                  loading="lazy"
                  width="{{ category_image.width }}"
                  height="{{ category_image.height }}"
                  class="ai-curated-selection__image-{{ ai_gen_id }} {% if forloop.first %}active{% endif %}"
                  data-category="{{ i }}"
                >
              {% else %}
                <div 
                  class="ai-curated-selection__image-placeholder-{{ ai_gen_id }} ai-curated-selection__image-{{ ai_gen_id }} {% if forloop.first %}active{% endif %}"
                  data-category="{{ i }}"
                >
                  {{ 'lifestyle-1' | placeholder_svg_tag }}
                </div>
              {% endif %}
            {% endif %}
          {% endfor %}
        </div>
      </div>

      <div class="ai-curated-selection__right-{{ ai_gen_id }} active" data-content="1">
        {% for i in (1..4) %}
          {% liquid
            assign category_name_key = 'category_' | append: i | append: '_name'
            assign category_headline_key = 'category_' | append: i | append: '_headline'
            assign category_description_key = 'category_' | append: i | append: '_description'
            assign category_link_key = 'category_' | append: i | append: '_link'

            assign category_name = block.settings[category_name_key]
            assign category_headline = block.settings[category_headline_key]
            assign category_description = block.settings[category_description_key]
            assign category_link = block.settings[category_link_key]
          %}

          {% if category_name != blank %}
            <div 
              class="ai-curated-selection__content-{{ ai_gen_id }} {% if forloop.first %}active{% endif %}"
              data-content="{{ i }}"
              style="display: {% if forloop.first %}flex{% else %}none{% endif %}; flex-direction: column; gap: 24px;"
            >
              {% if category_headline != blank %}
                <h2 class="ai-curated-selection__headline-{{ ai_gen_id }}">
                  {{ category_headline }}
                </h2>
              {% endif %}

              {% if category_description != blank %}
                <p class="ai-curated-selection__description-{{ ai_gen_id }}">
                  {{ category_description }}
                </p>
              {% endif %}

              {% if category_link != blank and block.settings.cta_text != blank %}
                <a 
                  href="{{ category_link }}" 
                  class="ai-curated-selection__cta-{{ ai_gen_id }}"
                >
                  {{ block.settings.cta_text }}
                  <svg 
                    class="ai-curated-selection__cta-arrow-{{ ai_gen_id }}"
                    xmlns="http://www.w3.org/2000/svg" 
                    viewBox="0 0 24 24" 
                    fill="none" 
                    stroke="currentColor" 
                    stroke-width="2" 
                    stroke-linecap="round" 
                    stroke-linejoin="round"
                  >
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </a>
              {% endif %}
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</curated-selection-{{ ai_gen_id }}>

<script>
  (function() {
    class CuratedSelection{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
        this.categories = this.querySelectorAll('.ai-curated-selection__category-{{ ai_gen_id }}');
        this.images = this.querySelectorAll('.ai-curated-selection__image-{{ ai_gen_id }}');
        this.contents = this.querySelectorAll('.ai-curated-selection__content-{{ ai_gen_id }}');
        this.rightColumn = this.querySelector('.ai-curated-selection__right-{{ ai_gen_id }}');
        this.currentCategory = 1;
      }

      connectedCallback() {
        this.setupEventListeners();
      }

      setupEventListeners() {
        this.categories.forEach((category) => {
          category.addEventListener('mouseenter', () => {
            const categoryId = category.getAttribute('data-category');
            this.switchCategory(categoryId);
          });

          category.addEventListener('click', () => {
            const categoryId = category.getAttribute('data-category');
            this.switchCategory(categoryId);
          });
        });
      }

      switchCategory(categoryId) {
        if (this.currentCategory === categoryId) return;

        this.categories.forEach((cat) => {
          if (cat.getAttribute('data-category') === categoryId) {
            cat.classList.add('active');
          } else {
            cat.classList.remove('active');
          }
        });

        this.images.forEach((img) => {
          if (img.getAttribute('data-category') === categoryId) {
            img.classList.add('active');
          } else {
            img.classList.remove('active');
          }
        });

        this.rightColumn.classList.remove('active');

        setTimeout(() => {
          this.contents.forEach((content) => {
            if (content.getAttribute('data-content') === categoryId) {
              content.style.display = 'flex';
            } else {
              content.style.display = 'none';
            }
          });

          this.rightColumn.classList.add('active');
        }, 150);

        this.currentCategory = categoryId;
      }
    }

    customElements.define('curated-selection-{{ ai_gen_id }}', CuratedSelection{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Curated selection",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "section_padding_desktop",
      "label": "Desktop padding",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "default": 80
    },
    {
      "type": "range",
      "id": "section_padding_mobile",
      "label": "Mobile padding",
      "min": 0,
      "max": 80,
      "step": 10,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "column_gap",
      "label": "Column gap",
      "min": 20,
      "max": 100,
      "step": 10,
      "unit": "px",
      "default": 60
    },
    {
      "type": "select",
      "id": "image_ratio",
      "label": "Image ratio",
      "options": [
        {
          "value": "1/1",
          "label": "Square (1:1)"
        },
        {
          "value": "4/5",
          "label": "Portrait (4:5)"
        },
        {
          "value": "3/4",
          "label": "Portrait (3:4)"
        },
        {
          "value": "2/3",
          "label": "Portrait (2:3)"
        },
        {
          "value": "16/9",
          "label": "Landscape (16:9)"
        },
        {
          "value": "3/2",
          "label": "Landscape (3:2)"
        }
      ],
      "default": "4/5"
    },
    {
      "type": "select",
      "id": "mobile_category_layout",
      "label": "Mobile category layout",
      "options": [
        {
          "value": "vertical",
          "label": "Vertical list"
        },
        {
          "value": "horizontal",
          "label": "Horizontal scroll"
        }
      ],
      "default": "vertical"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Section label"
    },
    {
      "type": "text",
      "id": "section_label",
      "label": "Label text",
      "default": "CURATED SELECTION"
    },
    {
      "type": "range",
      "id": "label_size",
      "label": "Desktop size",
      "min": 8,
      "max": 16,
      "step": 1,
      "unit": "px",
      "default": 10
    },
    {
      "type": "range",
      "id": "label_size_mobile",
      "label": "Mobile size",
      "min": 8,
      "max": 14,
      "step": 1,
      "unit": "px",
      "default": 9
    },
    {
      "type": "range",
      "id": "label_category_gap",
      "label": "Gap between label and categories",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "px",
      "default": 30
    },
    {
      "type": "header",
      "content": "Category typography"
    },
    {
      "type": "range",
      "id": "number_size",
      "label": "Desktop number size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "range",
      "id": "number_size_mobile",
      "label": "Mobile number size",
      "min": 10,
      "max": 18,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "range",
      "id": "category_size",
      "label": "Desktop category size",
      "min": 16,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 24
    },
    {
      "type": "range",
      "id": "category_size_mobile",
      "label": "Mobile category size",
      "min": 14,
      "max": 28,
      "step": 2,
      "unit": "px",
      "default": 18
    },
    {
      "type": "header",
      "content": "Content typography"
    },
    {
      "type": "range",
      "id": "headline_size",
      "label": "Desktop headline size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "default": 36
    },
    {
      "type": "range",
      "id": "headline_size_mobile",
      "label": "Mobile headline size",
      "min": 18,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 24
    },
    {
      "type": "range",
      "id": "description_size",
      "label": "Desktop description size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 15
    },
    {
      "type": "range",
      "id": "description_size_mobile",
      "label": "Mobile description size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "range",
      "id": "cta_size",
      "label": "Desktop CTA size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "range",
      "id": "cta_size_mobile",
      "label": "Mobile CTA size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "default": 13
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA text",
      "default": "Shop the selection"
    },
    {
      "type": "header",
      "content": "Category 1"
    },
    {
      "type": "text",
      "id": "category_1_name",
      "label": "Name",
      "default": "Sneakers"
    },
    {
      "type": "text",
      "id": "category_1_headline",
      "label": "Headline",
      "default": "Elevated footwear for the modern collector"
    },
    {
      "type": "textarea",
      "id": "category_1_description",
      "label": "Description",
      "default": "Discover our handpicked selection of premium sneakers, where heritage craftsmanship meets contemporary design."
    },
    {
      "type": "image_picker",
      "id": "category_1_image",
      "label": "Image"
    },
    {
      "type": "url",
      "id": "category_1_link",
      "label": "Link"
    },
    {
      "type": "header",
      "content": "Category 2"
    },
    {
      "type": "text",
      "id": "category_2_name",
      "label": "Name",
      "default": "Apparel"
    },
    {
      "type": "text",
      "id": "category_2_headline",
      "label": "Headline",
      "default": "Refined essentials for everyday luxury"
    },
    {
      "type": "textarea",
      "id": "category_2_description",
      "label": "Description",
      "default": "Curated pieces that blend timeless style with exceptional quality, designed for those who appreciate the details."
    },
    {
      "type": "image_picker",
      "id": "category_2_image",
      "label": "Image"
    },
    {
      "type": "url",
      "id": "category_2_link",
      "label": "Link"
    },
    {
      "type": "header",
      "content": "Category 3"
    },
    {
      "type": "text",
      "id": "category_3_name",
      "label": "Name",
      "default": "Accessories"
    },
    {
      "type": "text",
      "id": "category_3_headline",
      "label": "Headline",
      "default": "The finishing touches that define your style"
    },
    {
      "type": "textarea",
      "id": "category_3_description",
      "label": "Description",
      "default": "From leather goods to statement pieces, explore accessories that elevate every outfit with understated elegance."
    },
    {
      "type": "image_picker",
      "id": "category_3_image",
      "label": "Image"
    },
    {
      "type": "url",
      "id": "category_3_link",
      "label": "Link"
    },
    {
      "type": "header",
      "content": "Category 4"
    },
    {
      "type": "text",
      "id": "category_4_name",
      "label": "Name",
      "default": "Watches"
    },
    {
      "type": "text",
      "id": "category_4_headline",
      "label": "Headline",
      "default": "Timepieces that transcend trends"
    },
    {
      "type": "textarea",
      "id": "category_4_description",
      "label": "Description",
      "default": "A carefully selected collection of watches that combine precision engineering with timeless aesthetic appeal."
    },
    {
      "type": "image_picker",
      "id": "category_4_image",
      "label": "Image"
    },
    {
      "type": "url",
      "id": "category_4_link",
      "label": "Link"
    }
  ],
  "presets": [
    {
      "name": "Curated selection"
    }
  ]
}
{% endschema %}
